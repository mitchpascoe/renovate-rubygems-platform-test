{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "enabledManagers": ["bundler"],
  "rebaseWhen": "behind-base-branch",
  "packageRules": [
    {
      "matchManagers": "bundler",
      "rangeStrategy": "update-lockfile"
    },
    {
      "matchPackageNames": ["nokogiri", "grpc", "google-protobuf"],
      "matchDatasources": ["rubygems"],
      "versioning": "regex:(?<major>\\d+)(\\.(?<minor>\\d+))?(\\.(?<patch>\\d+))?(-(?<compatibility>.*))?"
    }
  ]
}